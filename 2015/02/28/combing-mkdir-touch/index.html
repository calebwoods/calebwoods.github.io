<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" />
    <title>Combining mkdir -p and touch</title>
    <meta content="width=device-width, initial-scale=1, maximum-scale=1" name="viewport" />
    <meta content="bash,scripting" name="keywords" />
    <link href="//brick.a.ssl.fastly.net/Noto+Sans:400,400i,700" rel="stylesheet" />
    <link href="/css/syntax.css" rel="stylesheet" />
    <link href="/css/main.css" rel="stylesheet" />
    <link href="/feed.xml" rel="alternate" type="application/atom+xml" />
  </head>
  <body>
    <div class="header">
      <div class="overlay">
        <div class="site">
          <h1 class="title">
            <a href="/">
              <div class="avatar"></div>
              Caleb Woods</a>
          </h1>
          <div class="extra">
            <a href="/feed.xml">feed</a>
            <a href="#contact">contact</a>
          </div>
        </div>
      </div>
    </div>
    <div class="site">

      <span class="back"><a href="/">Home</a> ></span>
<h2>
  Combining mkdir -p and touch
</h2>

<p class="meta">
  28 Feb 2015
  
    <a class="article-tag" href="/tags/bash">bash</a>
  
    <a class="article-tag" href="/tags/scripting">scripting</a>
  
</p>

<div class="post">
  <p>As a developer, I often use the unix <a href="http://man7.org/linux/man-pages/man1/touch.1.html">touch</a> command to create files.  One thing that I&#39;ve always wished <code>touch</code> would do is automatically create intermediate directories.  Because it doesn&#39;t do that, if I want to create <code>foo/bar/baz.txt</code> in an empty directory I need to use the following commands.</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>mkdir -p foo/bar
<span class="nv">$ </span>touch foo/bar/baz.txt
</code></pre></div>
<p>Because I type these commands enough I decided to write a function to stick in my Bash config to combine these commands and invoke it using <code>touch</code>.  Here is what I came up with.</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># .bashrc</span>
touch <span class="o">()</span> <span class="o">{</span>
  mkdir -p <span class="s2">&quot;$(dirname &quot;</span><span class="nv">$1</span><span class="s2">&quot;)&quot;</span>
  <span class="nb">command </span>touch <span class="s2">&quot;$1&quot;</span>
<span class="o">}</span>
</code></pre></div>
<p>With this I can call <code>touch foo/bar/baz.txt</code> and the directories <code>foo</code> and <code>bar</code> will be created in addition to the file <code>baz.txt</code>.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">$ touch foo/bar/baz.txt
$ tree foo
foo
└── bar
    └── baz.txt

1 directory, 1 file
</code></pre></div>
<p>Something new for me was using <code>command</code> utility to call the OS&#39;s default <code>touch</code> command when we are overriding it.</p>

<p>I&#39;m looking forward to saving some key strokes with this function.  Have some custom Bash functions you use all the time?  Tweet at me <a href="http://twitter.com/calebwoods">@calebwoods</a>, would love to hear your time saving tips.</p>

</div>

<div class="related-posts">
  <h4>Related Posts</h4>

  <ul>
    
      <li>
        <a href="/2015/08/02/ssh-ansible-host/">
          <span class="article-title">SSH to Ansible host by hostname</span>
        </a>
      </li>
    
      <li>
        <a href="/2015/06/27/mixing-ansible-roles-tasks/">
          <span class="article-title">Mixing Ansible Roles and Tasks</span>
        </a>
      </li>
    
      <li>
        <a href="/2015/05/05/vagrant-guest-commands/">
          <span class="article-title">Running Commands on Vagrant Guest from Host</span>
        </a>
      </li>
    
  </ul>
</div>


      <div class="footer" id="contact">
        <p>
          &copy; 2013 - 2019 Caleb Woods. All Right Reserved.
        </p>
        <div class="contact">
          <p>
            <span>Caleb Woods</span><span>Software Craftsman</span><span>caleb@calebwoods.com</span>
          </p>
        </div>
        <div class="contact">
          <p>
            <a href="https://github.com/calebwoods">github.com/calebwoods</a>
            <a href="https://medium.com/@calebwoods">medium.com/@calebwoods</a>
            <a href="https://twitter.com/calebwoods">twitter.com/calebwoods</a>
            <a href="https://www.linkedin.com/in/calebwoods">linkedin.com/in/calebwoods</a>
          </p>
        </div>
      </div>
    </div>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', 'UA-49249459-1', 'calebwoods.com');ga('send', 'pageview');
    </script>
  </body>
</html>
