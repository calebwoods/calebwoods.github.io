<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" />
    <title>'Simple' Git Merge Strategy</title>
    <meta content="width=device-width, initial-scale=1, maximum-scale=1" name="viewport" />
    <meta content="git,workflow" name="keywords" />
    <link href="//brick.a.ssl.fastly.net/Noto+Sans:400,400i,700" rel="stylesheet" />
    <link href="/css/syntax.css" rel="stylesheet" />
    <link href="/css/main.css" rel="stylesheet" />
    <link href="/feed.xml" rel="alternate" type="application/atom+xml" />
  </head>
  <body>
    <div class="header">
      <div class="overlay">
        <div class="site">
          <h1 class="title">
            <a href="/">
              <div class="avatar"></div>
              Caleb Woods</a>
          </h1>
          <div class="extra">
            <a href="/feed.xml">feed</a>
            <a href="#contact">contact</a>
          </div>
        </div>
      </div>
    </div>
    <div class="site">

      <span class="back"><a href="/">Home</a> ></span>
<h2>
  'Simple' Git Merge Strategy
</h2>

<p class="meta">
  22 Mar 2014
  
    <a class="article-tag" href="/tags/git">git</a>
  
    <a class="article-tag" href="/tags/workflow">workflow</a>
  
</p>

<div class="post">
  <p>At work we adopted use of the <a href="http://blogs.atlassian.com/2014/01/simple-git-workflow-simple/">simple branching strategy</a> for our use of git. The goal of this approach over something like Git Flow is to reduce the complexity of branching and create a workflow that is easy to follow.</p>

<h3>What is &#39;Simple&#39;</h3>

<p>At its core it means following these two rules:</p>

<ol>
<li><code>master</code> should alway be deployable</li>
<li>feature branches are <code>rebased</code> on <code>master</code> before merging</li>
</ol>

<p>In addition to the basic semantics we&#39;ve evolved the workflow to include two more rules.</p>

<h3>Story Card == Feature Branch</h3>

<p>To help keep branches small we scope each feature branch to just one story card from our Kanbanery board. This also means that we create a lot of branches so to help manage the naming we include the card number in the branch name, such as <code>task_1234324_add_email_notification</code>.</p>

<p>This makes it simple to find branches and ensure they stay in sync with corresponding card.</p>

<h3>Meaningful Merge Messages</h3>

<p>If you are using Github and Pull Requests then you already have the benefit of slightly better merge commit messages which include the Pull Request number. In most of our projects, however, it&#39;s also useful to include the story card number in the commit for tracking purposes. This also gives us more values to search.</p>

<p>To do that we developed a standard merge commit message format.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">&lt;feature summary&gt; [&lt;card system abbrev&gt; #&lt;number&gt;] (&lt;source abbrev&gt; #&lt;number&gt;)

&lt;feature long description, optional&gt;
</code></pre></div>
<p>Filled out it looks something like this:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">Refactor API to proper 404 responses [KB #1142645] (GH #67)

Updated the API so when a user does not have access to a resource they will get a 404 status code rather than 403.
</code></pre></div>
<p>To make filling out this message even easier I&#39;d suggest taking a look at the <a href="https://github.com/lovewithfood/git_pretty_accept">git<em>pretty</em>accept</a> gem. It allows you to create a merge commit message template and automatically removes local and remote branches after the merge.</p>

<h3>Conclusion</h3>

<p>Optimizing processes for ease of use and maximum effectiveness is always a moving target, but this strategy has been working well on the projects I&#39;ve used it.</p>

<p>For practical explanation of &#39;simple&#39; branching with examples checkout this <a href="https://gist.github.com/jbenet/ee6c9ac48068889b0912">gist</a>.</p>

</div>

<div class="related-posts">
  <h4>Related Posts</h4>

  <ul>
    
      <li>
        <a href="/2014/07/02/rebasing-dependent-feature-branches/">
          <span class="article-title">Rebasing Dependent Feature Branches</span>
        </a>
      </li>
    
      <li>
        <a href="/2017/02/23/navigate-by-word-iterm2/">
          <span class="article-title">Navigate by Word in iTerm2</span>
        </a>
      </li>
    
      <li>
        <a href="/2016/01/23/naming-software-projects/">
          <span class="article-title">Naming Projects</span>
        </a>
      </li>
    
  </ul>
</div>


      <div class="footer" id="contact">
        <p>
          &copy; 2013 - 2019 Caleb Woods. All Right Reserved.
        </p>
        <div class="contact">
          <p>
            <span>Caleb Woods</span><span>Software Craftsman</span><span>caleb@calebwoods.com</span>
          </p>
        </div>
        <div class="contact">
          <p>
            <a href="https://github.com/calebwoods">github.com/calebwoods</a>
            <a href="https://medium.com/@calebwoods">medium.com/@calebwoods</a>
            <a href="https://twitter.com/calebwoods">twitter.com/calebwoods</a>
            <a href="https://www.linkedin.com/in/calebwoods">linkedin.com/in/calebwoods</a>
          </p>
        </div>
      </div>
    </div>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', 'UA-49249459-1', 'calebwoods.com');ga('send', 'pageview');
    </script>
  </body>
</html>
